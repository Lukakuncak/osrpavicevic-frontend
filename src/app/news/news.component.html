<!-- News Component Template -->
<div class="container mt-4">
    <!-- Search and Filters -->
    <div class="row mb-4">
      <div class="col-md-4">
        <input type="text" class="form-control" placeholder="Search by title" [(ngModel)]="searchTerm" (input)="searchNews()">
      </div>
      <div class="col-md-4">
        <select class="form-select" [(ngModel)]="selectedType" (change)="searchNews()">
          <option value="">All Types</option>
          <option *ngFor="let type of newsTypes" [value]="type">{{ type }}</option>
        </select>
      </div>
      <div class="col-md-4 text-end">
        <button class="btn btn-primary" *ngIf="isAdmin$ | async" (click)="createNews()">Create News</button>
      </div>
    </div>
  
    <!-- News Grid -->
    <div class="row">
      <div class="col-md-12">
        <div *ngIf="newsPage?.content?.length > 0" class="row">
          <div *ngFor="let news of newsPage.content" class="col-md-4 mb-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">{{ news.title }}</h5>
                <p class="card-text">{{ news.content | slice:0:255 }}...</p>
                <a [routerLink]="['/news', news.id]" class="btn btn-primary">Read More</a>
              </div>
              <div class="card-footer text-muted">
                <small>{{ news.dateTime | date: 'short' }}</small>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="newsPage?.empty" class="alert alert-info">No news available.</div>
      </div>
    </div>
  
    <!-- Pagination -->
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item" [ngClass]="{ 'disabled': newsPage?.first }">
          <a class="page-link" (click)="loadPreviousPage()" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li class="page-item disabled">
          <span class="page-link">Page {{ currentPage + 1 }} of {{ totalPages }}</span>
        </li>
        <li class="page-item" [ngClass]="{ 'disabled': newsPage?.last }">
          <a class="page-link" (click)="loadNextPage()" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
    
    <!-- Sort by Date -->
    <div class="text-end mt-3">
      <button class="btn btn-light" (click)="sortNewsByDate()">
        Sort by Date
        <span [ngClass]="{ 'text-success': sortDir === 'asc', 'text-danger': sortDir === 'desc' }">
          <i class="bi" [ngClass]="sortDir === 'asc' ? 'bi-arrow-up' : 'bi-arrow-down'"></i>
        </span>
      </button>
    </div>
  </div>
  